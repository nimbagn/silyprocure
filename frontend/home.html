<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>SilyProcure - Plateforme de Gestion d'Achats Professionnels - SilyProcure</title>
    
    <!-- CSS Charte Graphique Pro Confiance -->
    <link rel="stylesheet" href="css/style.css">
    <link rel="stylesheet" href="css/responsive.css">
    <link rel="stylesheet" href="css/animations.css">
    
    <!-- Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>
    <script>
        tailwind.config = {
            theme: {
                extend: {
                    colors: {
                        primary: {
                            50: '#E0E7FF',
                            100: '#DBEAFE',
                            400: '#60A5FA',
                            500: '#3B82F6',
                            600: '#2563EB',
                            700: '#1D4ED8',
                            900: '#1E3A8A',
                        },
                        accent: {
                            500: '#F59E0B',
                            600: '#D97706',
                        },
                        success: {
                            500: '#10B981',
                        },
                        neutral: {
                            500: '#64748B',
                            600: '#475569',
                        }
                    },
                    fontFamily: {
                        sans: ['Inter', 'Arial', 'sans-serif'],
                    },
                    backgroundImage: {
                        'hero-pattern': "url('data:image/svg+xml,%3Csvg width=\"60\" height=\"60\" viewBox=\"0 0 60 60\" xmlns=\"http://www.w3.org/2000/svg\"%3E%3Cg fill=\"none\" fill-rule=\"evenodd\"%3E%3Cg fill=\"%23ffffff\" fill-opacity=\"0.1\"%3E%3Cpath d=\"M36 34v-4h-2v4h-4v2h4v4h2v-4h4v-2h-4zm0-30V0h-2v4h-4v2h4v4h2V6h4V4h-4zM6 34v-4H4v4H0v2h4v4h2v-4h4v-2H6zM6 4V0H4v4H0v2h4v4h2V6h4V4H6z\"/%3E%3C/g%3E%3C/g%3E%3C/svg%3E')",
                    }
                }
            }
        }
    </script>
    
    <style>
        /* Animations modernes */
        @keyframes fadeInUp {
            from {
                opacity: 0;
                transform: translateY(30px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }
        
        @keyframes blob {
            0%, 100% {
                transform: translate(0, 0) scale(1);
            }
            33% {
                transform: translate(30px, -50px) scale(1.1);
            }
            66% {
                transform: translate(-20px, 20px) scale(0.9);
            }
        }
        
        .fade-in-up {
            animation: fadeInUp 0.8s ease-out forwards;
            opacity: 0;
        }
        
        /* S'assurer que les √©l√©ments sont visibles m√™me si l'animation ne se d√©clenche pas */
        @media (prefers-reduced-motion: no-preference) {
            .fade-in-up {
                animation: fadeInUp 0.8s ease-out forwards;
            }
        }
        
        /* Fallback pour les navigateurs qui ne supportent pas l'animation */
        .fade-in-up:not(:hover) {
            animation-fill-mode: forwards;
        }
        
        .delay-100 { animation-delay: 100ms; }
        .delay-200 { animation-delay: 200ms; }
        .delay-300 { animation-delay: 300ms; }
        .delay-400 { animation-delay: 400ms; }
        
        .animate-blob {
            animation: blob 7s infinite;
        }
        
        .animation-delay-2000 {
            animation-delay: 2s;
        }
        
        /* Smooth reveal on scroll */
        .reveal {
            opacity: 0;
            transform: translateY(30px);
            transition: all 0.8s ease-out;
        }
        .reveal.active {
            opacity: 1;
            transform: translateY(0);
        }
        
        /* Glass effect */
        .glass-panel {
            background: rgba(255, 255, 255, 0.95);
            backdrop-filter: blur(10px);
            border: 1px solid rgba(255, 255, 255, 0.2);
            box-shadow: 0 20px 25px -5px rgba(0, 0, 0, 0.1), 0 10px 10px -5px rgba(0, 0, 0, 0.04);
        }
        
        /* Navbar scroll effect */
        #navbar.scrolled {
            background: rgba(255, 255, 255, 0.98);
            box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.1);
        }
    </style>
    
    <!-- Font Awesome & Google Fonts -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" />
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    
    <!-- Dashboard Theme CSS -->
    <link rel="stylesheet" href="css/dashboard-theme.css">
</head>
<body class="min-h-screen bg-white">
    <!-- Navbar moderne avec effet scroll -->
    <nav id="navbar" class="fixed w-full z-50 bg-gradient-to-r from-white via-blue-50 to-white backdrop-blur-md border-b-2 border-primary-200 transition-all duration-300 shadow-lg">
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
            <div class="flex justify-between items-center h-20">
                <!-- Logo -->
                <a href="home.html" class="flex-shrink-0 flex items-center gap-2 cursor-pointer group">
                    <div class="w-12 h-12 bg-gradient-to-br from-primary-500 via-primary-600 to-primary-700 rounded-xl flex items-center justify-center text-white font-bold text-xl shadow-lg shadow-primary-500/40 group-hover:shadow-xl group-hover:scale-110 transition-all">
                        <i class="fas fa-shopping-cart"></i>
                    </div>
                    <div>
                        <span class="text-2xl font-bold text-primary-700 tracking-tight">Sily<span class="text-primary-900">Procure</span></span>
                        <p class="text-xs text-primary-500 hidden sm:block font-medium">Plateforme de gestion d'achats</p>
                    </div>
                </a>

                <!-- Desktop Menu -->
                <div class="hidden sm:flex items-center space-x-2 lg:space-x-4">
                    <a href="#fonctionnement" class="text-primary-700 hover:text-white hover:bg-primary-600 font-semibold transition-all whitespace-nowrap flex items-center gap-2 px-4 py-2 rounded-lg hover:shadow-md min-h-[44px] border border-transparent hover:border-primary-700">
                        <i class="fas fa-info-circle"></i>
                        <span class="text-sm lg:text-base">Comment √ßa marche</span>
                    </a>
                    <a href="#services" class="text-primary-700 hover:text-white hover:bg-primary-600 font-semibold transition-all whitespace-nowrap flex items-center gap-2 px-4 py-2 rounded-lg hover:shadow-md min-h-[44px] border border-transparent hover:border-primary-700">
                        <i class="fas fa-handshake"></i>
                        <span class="text-sm lg:text-base">Services</span>
                    </a>
                    <a href="#tracking" class="text-primary-700 hover:text-white hover:bg-primary-600 font-semibold transition-all whitespace-nowrap flex items-center gap-2 px-4 py-2 rounded-lg hover:shadow-md min-h-[44px] border border-transparent hover:border-primary-700">
                        <i class="fas fa-shipping-fast"></i>
                        <span class="text-sm lg:text-base">Suivi</span>
                    </a>
                    <a href="#contact" class="text-primary-700 hover:text-white hover:bg-primary-600 font-semibold transition-all whitespace-nowrap flex items-center gap-2 px-4 py-2 rounded-lg hover:shadow-md min-h-[44px] border border-transparent hover:border-primary-700">
                        <i class="fas fa-envelope"></i>
                        <span class="text-sm lg:text-base">Contact</span>
                    </a>
                    <div class="h-8 w-px bg-primary-300 mx-2"></div>
                    <a href="index.html" id="auth-link" class="text-white bg-primary-600 hover:bg-primary-700 font-bold transition-all whitespace-nowrap flex items-center gap-2 px-4 py-2 rounded-lg shadow-md hover:shadow-lg min-h-[44px] border-2 border-primary-700 hover:border-primary-800">
                        <i class="fas fa-sign-in-alt"></i>
                        <span id="auth-text" class="text-sm lg:text-base">Connexion</span>
                    </a>
                    <button onclick="openDevisModal()" class="bg-gradient-to-r from-accent-500 to-accent-600 hover:from-accent-600 hover:to-accent-700 text-white px-5 py-2.5 rounded-full font-bold shadow-lg shadow-accent-500/40 transition transform hover:-translate-y-0.5 hover:scale-105 flex items-center gap-2 whitespace-nowrap min-h-[44px] text-sm lg:text-base border-2 border-accent-400">
                        <i class="fas fa-paper-plane"></i>
                        <span class="hidden lg:inline">Demander un devis</span>
                        <span class="lg:hidden">Devis</span>
                    </button>
                </div>

                <!-- Mobile menu button -->
                <div class="sm:hidden flex items-center gap-2">
                    <button onclick="openDevisModal()" class="bg-gradient-to-r from-accent-500 to-accent-600 hover:from-accent-600 hover:to-accent-700 text-white px-3 py-2 rounded-lg font-bold shadow-md transition min-h-[44px] min-w-[44px] flex items-center justify-center">
                        <i class="fas fa-paper-plane"></i>
                    </button>
                    <button id="mobile-menu-button" onclick="toggleMobileMenu()" class="text-primary-700 hover:text-white hover:bg-primary-600 focus:outline-none p-2 min-h-[44px] min-w-[44px] flex items-center justify-center rounded-lg transition border-2 border-primary-300 hover:border-primary-600" aria-expanded="false" aria-label="Menu principal" aria-controls="mobile-menu">
                        <i class="fas fa-bars text-xl"></i>
                    </button>
                </div>
            </div>
        </div>
            
        <!-- Mobile Menu Panel -->
        <div id="mobile-menu" class="hidden sm:hidden bg-gradient-to-b from-white to-blue-50 border-t-2 border-primary-200 absolute w-full shadow-xl z-40">
            <div class="px-4 pt-3 pb-6 space-y-2">
                <a href="#fonctionnement" class="block px-4 py-3 text-base font-semibold text-primary-700 hover:text-white hover:bg-primary-600 rounded-lg transition-all border-2 border-transparent hover:border-primary-700 min-h-[44px] flex items-center gap-3">
                    <i class="fas fa-info-circle text-primary-500 group-hover:text-white"></i>
                    <span>Comment √ßa marche</span>
                </a>
                <a href="#services" class="block px-4 py-3 text-base font-semibold text-primary-700 hover:text-white hover:bg-primary-600 rounded-lg transition-all border-2 border-transparent hover:border-primary-700 min-h-[44px] flex items-center gap-3">
                    <i class="fas fa-handshake text-primary-500"></i>
                    <span>Services</span>
                </a>
                <a href="#tracking" class="block px-4 py-3 text-base font-semibold text-primary-700 hover:text-white hover:bg-primary-600 rounded-lg transition-all border-2 border-transparent hover:border-primary-700 min-h-[44px] flex items-center gap-3">
                    <i class="fas fa-shipping-fast text-primary-500"></i>
                    <span>Suivi</span>
                </a>
                <a href="#contact" class="block px-4 py-3 text-base font-semibold text-primary-700 hover:text-white hover:bg-primary-600 rounded-lg transition-all border-2 border-transparent hover:border-primary-700 min-h-[44px] flex items-center gap-3">
                    <i class="fas fa-envelope text-primary-500"></i>
                    <span>Contact</span>
                </a>
                <div class="mt-4 pt-4 border-t-2 border-primary-200 flex flex-col gap-3">
                    <a href="index.html" id="auth-link-mobile" class="w-full text-center px-4 py-3 bg-primary-600 text-white rounded-lg font-bold shadow-md hover:bg-primary-700 transition border-2 border-primary-700 min-h-[44px] flex items-center justify-center gap-2">
                        <i class="fas fa-sign-in-alt"></i>
                        <span>Connexion</span>
                    </a>
                    <button onclick="openDevisModal()" class="w-full text-center px-4 py-3 bg-gradient-to-r from-accent-500 to-accent-600 text-white rounded-lg font-bold shadow-lg hover:from-accent-600 hover:to-accent-700 transition border-2 border-accent-400 min-h-[44px] flex items-center justify-center gap-2">
                        <i class="fas fa-paper-plane"></i>
                        <span>Demander un devis</span>
                    </button>
                </div>
            </div>
        </div>
    </nav>
    </nav>

    <!-- Hero Section Moderne -->
    <section class="relative pt-32 pb-20 lg:pt-48 lg:pb-32 overflow-hidden bg-gradient-to-br from-primary-900 via-primary-800 to-primary-900">
            <!-- Abstract Background Pattern -->
            <div class="absolute inset-0 bg-hero-pattern opacity-10"></div>
            
            <!-- Animated Blob Shapes -->
            <div class="absolute top-0 right-0 -mr-20 -mt-20 w-96 h-96 bg-primary-500 rounded-full mix-blend-multiply filter blur-3xl opacity-20 animate-blob"></div>
            <div class="absolute bottom-0 left-0 -ml-20 -mb-20 w-96 h-96 bg-accent-500 rounded-full mix-blend-multiply filter blur-3xl opacity-20 animate-blob animation-delay-2000"></div>

            <div class="relative max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 text-center">
                <!-- Badge -->
                <span class="inline-block py-2 px-4 rounded-full bg-white/20 backdrop-blur-sm border border-white/30 text-white text-sm font-semibold mb-6 fade-in-up shadow-lg">
                    <i class="fas fa-bolt mr-2 text-accent-400"></i>Devis en 30 min - 1h maximum
                </span>
                
                <!-- Titre Principal -->
                <h1 class="text-4xl md:text-6xl font-extrabold text-white tracking-tight mb-6 leading-tight fade-in-up delay-100">
                    Vos achats professionnels <br>
                    <span class="text-transparent bg-clip-text bg-gradient-to-r from-blue-200 via-white to-blue-200">simplifi√©s et centralis√©s</span>
                </h1>
                
                <!-- Sous-titre -->
                <p class="mt-4 max-w-3xl mx-auto text-xl text-primary-100 mb-10 fade-in-up delay-200">
                    <strong>Ne perdez plus de temps √† chercher des fournisseurs.</strong> D√©posez une demande, nous n√©gocions pour vous. Obtenez le meilleur devis consolid√© en <strong class="text-accent-400">moins d'une heure</strong>.
                </p>
                
                <!-- Badges Avantages -->
                <div class="flex flex-col sm:flex-row justify-center gap-4 mb-12 fade-in-up delay-200">
                    <div class="bg-white/10 backdrop-blur-sm border border-white/20 rounded-xl px-4 py-2.5 flex items-center gap-2">
                        <i class="fas fa-check-circle text-green-400"></i>
                        <span class="text-white text-sm font-medium">Aucun compte requis</span>
                    </div>
                    <div class="bg-white/10 backdrop-blur-sm border border-white/20 rounded-xl px-4 py-2.5 flex items-center gap-2">
                        <i class="fas fa-check-circle text-green-400"></i>
                        <span class="text-white text-sm font-medium">Suivi en temps r√©el</span>
                    </div>
                    <div class="bg-white/10 backdrop-blur-sm border border-white/20 rounded-xl px-4 py-2.5 flex items-center gap-2">
                        <i class="fas fa-check-circle text-green-400"></i>
                        <span class="text-white text-sm font-medium">100% gratuit</span>
                    </div>
                </div>
                
                <!-- CTA Buttons -->
                <div class="flex flex-col sm:flex-row justify-center gap-4 mb-16 fade-in-up delay-300">
                    <button onclick="openDevisModal()" class="px-8 py-4 bg-accent-500 hover:bg-accent-600 text-white font-bold rounded-full shadow-lg shadow-accent-500/30 transition transform hover:scale-105 flex items-center justify-center gap-2 min-h-[56px]">
                        <i class="fas fa-paper-plane"></i> Faire une demande gratuite
                    </button>
                    <a href="#fonctionnement" class="px-8 py-4 bg-white/10 hover:bg-white/20 text-white font-semibold rounded-full backdrop-blur-sm border border-white/20 transition flex items-center justify-center gap-2 min-h-[56px]">
                        <i class="fas fa-play-circle"></i> Comment √ßa marche
                    </a>
                </div>

                <!-- Floating Tracking Widget -->
                <div id="tracking" class="max-w-3xl mx-auto glass-panel rounded-2xl p-4 sm:p-6 fade-in-up delay-400 transform translate-y-8 lg:translate-y-12">
                    <h3 class="text-lg font-bold text-gray-900 mb-4 flex items-center gap-2">
                        <i class="fas fa-shipping-fast text-primary-600"></i>
                        Suivez votre demande
                    </h3>
                    <form id="trackingFormHome" onsubmit="trackFromHome(event)" class="flex flex-col sm:flex-row gap-3">
                        <div class="relative flex-grow">
                            <div class="absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none">
                                <i class="fas fa-hashtag text-gray-400"></i>
                            </div>
                            <input type="text" id="ref-home" name="reference" placeholder="R√©f√©rence (ex: DEV-XXXXX-XXXXX)" 
                                   pattern="[A-Z0-9-]+" autocomplete="off" required
                                   class="block w-full pl-10 pr-3 py-3 border border-gray-200 rounded-xl leading-5 bg-gray-50 placeholder-gray-500 focus:outline-none focus:bg-white focus:ring-2 focus:ring-primary-500 focus:border-transparent transition">
                        </div>
                        <div class="relative flex-grow">
                            <div class="absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none">
                                <i class="fas fa-key text-gray-400"></i>
                            </div>
                            <input type="text" id="token-home" name="token" placeholder="Code de suivi" 
                                   autocomplete="off" required
                                   class="block w-full pl-10 pr-3 py-3 border border-gray-200 rounded-xl leading-5 bg-gray-50 placeholder-gray-500 focus:outline-none focus:bg-white focus:ring-2 focus:ring-primary-500 focus:border-transparent transition">
                        </div>
                        <button type="submit" class="bg-gray-900 hover:bg-gray-800 text-white px-6 py-3 rounded-xl font-semibold transition shadow-md whitespace-nowrap min-h-[48px] flex items-center justify-center gap-2">
                            <i class="fas fa-search"></i> Suivre
                        </button>
                    </form>
                    <div id="trackingErrorHome" class="mt-3 text-sm text-red-600 hidden"></div>
                    <p class="mt-4 text-sm text-gray-600 text-center">
                        <i class="fas fa-info-circle mr-1"></i>
                        Vous avez re√ßu ces informations par email, SMS ou WhatsApp apr√®s avoir soumis votre demande
                    </p>
                </div>
            </div>
        </section>

        <!-- Section Comment √ßa marche -->
        <section id="fonctionnement" class="py-20 bg-gray-50">
            <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
                <div class="text-center max-w-3xl mx-auto mb-16 reveal">
                    <h2 class="text-base text-primary-600 font-semibold tracking-wide uppercase mb-2">Processus simplifi√©</h2>
                    <p class="mt-2 text-3xl leading-8 font-extrabold tracking-tight text-gray-900 sm:text-4xl">
                        Du besoin √† la livraison en 4 √©tapes
                    </p>
                    <p class="mt-4 max-w-2xl text-xl text-gray-500 mx-auto">
                        Plus besoin de multiplier les interlocuteurs. SilyProcure centralise tout.
                    </p>
                </div>

                <div class="grid grid-cols-1 md:grid-cols-4 gap-8 relative">
                    <!-- Line connector (desktop only) -->
                    <div class="hidden md:block absolute top-12 left-0 w-full h-0.5 bg-gray-200 -z-10"></div>

                    <!-- Step 1 -->
                    <div class="relative bg-white p-6 rounded-2xl shadow-sm border border-gray-100 text-center reveal group hover:-translate-y-2 transition duration-300">
                        <div class="w-16 h-16 mx-auto bg-primary-100 text-primary-600 rounded-full flex items-center justify-center text-2xl font-bold mb-4 group-hover:bg-primary-600 group-hover:text-white transition">
                            1
                        </div>
                        <h3 class="text-lg font-bold text-gray-900 mb-2">Demande</h3>
                        <p class="text-gray-600 text-sm">Remplissez le formulaire en ligne avec vos besoins sp√©cifiques. Sans inscription.</p>
                    </div>

                    <!-- Step 2 -->
                    <div class="relative bg-white p-6 rounded-2xl shadow-sm border border-gray-100 text-center reveal delay-100 group hover:-translate-y-2 transition duration-300">
                        <div class="w-16 h-16 mx-auto bg-primary-100 text-primary-600 rounded-full flex items-center justify-center text-2xl font-bold mb-4 group-hover:bg-primary-600 group-hover:text-white transition">
                            2
                        </div>
                        <h3 class="text-lg font-bold text-gray-900 mb-2">N√©gociation</h3>
                        <p class="text-gray-600 text-sm">Notre √©quipe trouve les meilleurs fournisseurs et n√©gocie pour vous.</p>
                    </div>

                    <!-- Step 3 -->
                    <div class="relative bg-white p-6 rounded-2xl shadow-sm border border-gray-100 text-center reveal delay-200 group hover:-translate-y-2 transition duration-300">
                        <div class="w-16 h-16 mx-auto bg-primary-100 text-primary-600 rounded-full flex items-center justify-center text-2xl font-bold mb-4 group-hover:bg-primary-600 group-hover:text-white transition">
                            3
                        </div>
                        <h3 class="text-lg font-bold text-gray-900 mb-2">Devis</h3>
                        <p class="text-gray-600 text-sm">Recevez une offre consolid√©e (Proforma) au meilleur prix en moins d'une heure.</p>
                    </div>

                    <!-- Step 4 -->
                    <div class="relative bg-white p-6 rounded-2xl shadow-sm border border-gray-100 text-center reveal delay-300 group hover:-translate-y-2 transition duration-300">
                        <div class="w-16 h-16 mx-auto bg-green-100 text-green-600 rounded-full flex items-center justify-center text-2xl font-bold mb-4 group-hover:bg-green-600 group-hover:text-white transition">
                            4
                        </div>
                        <h3 class="text-lg font-bold text-gray-900 mb-2">Livraison</h3>
                        <p class="text-gray-600 text-sm">Validez le devis et recevez vos produits √† l'adresse indiqu√©e.</p>
                    </div>
                </div>
            </div>
        </section>

        <!-- Section Suivi de Demande (d√©plac√©e apr√®s hero) -->
        <section class="py-16 bg-white">
            <div class="max-w-4xl mx-auto px-4 sm:px-6 lg:px-8">
                <div class="text-center mb-8">
                    <h2 class="text-3xl font-extrabold text-gray-900 sm:text-4xl mb-4">
                        <i class="fas fa-shipping-fast text-primary-600 mr-2"></i>
                        Suivez votre demande en temps r√©el
                    </h2>
                    <p class="text-lg text-gray-600">
                        Consultez l'√©tat de votre demande √† tout moment avec votre r√©f√©rence et votre code de suivi
                    </p>
                </div>
            </div>
        </section>

        <!-- Services Section -->
        <section id="services" class="py-20 bg-white">
            <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
                <div class="text-center mb-16 reveal">
                    <h2 class="text-3xl font-extrabold text-gray-900 sm:text-4xl mb-4">
                        Ce que nous proposons
                    </h2>
                    <p class="text-lg text-gray-600 max-w-2xl mx-auto">
                        Des outils concrets pour am√©liorer votre gestion des achats
                    </p>
                </div>
                <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8">
                    <div class="bg-white p-6 rounded-2xl shadow-sm border border-gray-100 hover:shadow-lg transition-all duration-300 reveal group">
                        <div class="w-14 h-14 bg-primary-100 rounded-xl flex items-center justify-center mb-4 group-hover:bg-primary-600 group-hover:scale-110 transition">
                            <i class="fas fa-bolt text-primary-600 text-xl group-hover:text-white"></i>
                        </div>
                        <h3 class="text-xl font-bold text-gray-900 mb-3">Devis ultra-rapide</h3>
                        <p class="text-gray-600">
                            <strong>30 minutes √† 1 heure maximum</strong> pour recevoir votre devis consolid√©. D√©crivez vos besoins en quelques clics, notre √©quipe contacte les fournisseurs et vous pr√©sente la meilleure offre.
                        </p>
                    </div>
                    <div class="bg-white p-6 rounded-2xl shadow-sm border border-gray-100 hover:shadow-lg transition-all duration-300 reveal delay-100 group">
                        <div class="w-14 h-14 bg-primary-100 rounded-xl flex items-center justify-center mb-4 group-hover:bg-primary-600 group-hover:scale-110 transition">
                            <i class="fas fa-handshake text-primary-600 text-xl group-hover:text-white"></i>
                        </div>
                        <h3 class="text-xl font-bold text-gray-900 mb-3">Intermediation compl√®te</h3>
                        <p class="text-gray-600">
                            <strong>Vous ne contactez aucun fournisseur.</strong> Nous g√©rons tout : recherche des meilleurs fournisseurs, n√©gociation des prix, comparaison des offres. Vous recevez une seule offre optimale.
                        </p>
                    </div>
                    <div class="bg-white p-6 rounded-2xl shadow-sm border border-gray-100 hover:shadow-lg transition-all duration-300 reveal delay-200 group">
                        <div class="w-14 h-14 bg-primary-100 rounded-xl flex items-center justify-center mb-4 group-hover:bg-primary-600 group-hover:scale-110 transition">
                            <i class="fas fa-eye text-primary-600 text-xl group-hover:text-white"></i>
                        </div>
                        <h3 class="text-xl font-bold text-gray-900 mb-3">Suivi transparent</h3>
                        <p class="text-gray-600">
                            Suivez votre demande en temps r√©el avec une r√©f√©rence unique. Recevez des notifications par email, SMS ou WhatsApp √† chaque √©tape.
                        </p>
                    </div>
                    <div class="bg-white p-6 rounded-2xl shadow-sm border border-gray-100 hover:shadow-lg transition-all duration-300 reveal delay-100 group">
                        <div class="w-14 h-14 bg-green-100 rounded-xl flex items-center justify-center mb-4 group-hover:bg-green-600 group-hover:scale-110 transition">
                            <i class="fas fa-user-check text-green-600 text-xl group-hover:text-white"></i>
                        </div>
                        <h3 class="text-xl font-bold text-gray-900 mb-3">Aucun compte requis</h3>
                        <p class="text-gray-600">
                            <strong>Commencez imm√©diatement</strong> sans cr√©er de compte. Remplissez le formulaire, recevez votre r√©f√©rence de suivi, c'est tout !
                        </p>
                    </div>
                    <div class="bg-white p-6 rounded-2xl shadow-sm border border-gray-100 hover:shadow-lg transition-all duration-300 reveal delay-200 group">
                        <div class="w-14 h-14 bg-blue-100 rounded-xl flex items-center justify-center mb-4 group-hover:bg-blue-600 group-hover:scale-110 transition">
                            <i class="fas fa-shield-alt text-blue-600 text-xl group-hover:text-white"></i>
                        </div>
                        <h3 class="text-xl font-bold text-gray-900 mb-3">S√©curis√© et confidentiel</h3>
                        <p class="text-gray-600">
                            Vos donn√©es sont prot√©g√©es et chaque action est trac√©e. Suivi s√©curis√© avec r√©f√©rence unique et code confidentiel.
                        </p>
                    </div>
                    <div class="bg-white p-6 rounded-2xl shadow-sm border border-gray-100 hover:shadow-lg transition-all duration-300 reveal delay-300 group">
                        <div class="w-14 h-14 bg-yellow-100 rounded-xl flex items-center justify-center mb-4 group-hover:bg-yellow-500 group-hover:scale-110 transition">
                            <i class="fas fa-gift text-yellow-600 text-xl group-hover:text-white"></i>
                        </div>
                        <h3 class="text-xl font-bold text-gray-900 mb-3">100% gratuit</h3>
                        <p class="text-gray-600">
                            <strong>Le service est enti√®rement gratuit pour les clients.</strong> Aucun frais cach√©, aucune commission. Vous payez uniquement le prix du devis valid√©.
                        </p>
                    </div>
                </div>
            </div>
        </section>

        <!-- Features Section -->
        <section id="features" class="py-20 bg-gray-50">
            <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
                <div class="text-center mb-16 reveal">
                    <h2 class="text-3xl font-extrabold text-gray-900 sm:text-4xl mb-4">
                        Pourquoi choisir SilyProcure ?
                    </h2>
                    <p class="text-xl text-primary-700 font-semibold max-w-3xl mx-auto mb-4">
                        L'interm√©diaire d'achats qui vous fait gagner du temps et de l'argent
                    </p>
                    <p class="text-lg text-gray-600 max-w-2xl mx-auto">
                        Au lieu de perdre des heures √† chercher et contacter des fournisseurs, d√©posez une seule demande. Nous nous occupons de tout et vous pr√©sentons le meilleur devis.
                    </p>
                </div>

                <!-- Grid de features -->
                <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8">
                    <div class="bg-white p-6 rounded-2xl shadow-sm border border-gray-100 hover:shadow-lg transition-all duration-300 reveal group">
                        <div class="w-14 h-14 bg-accent-100 rounded-xl flex items-center justify-center mb-4 group-hover:bg-accent-500 group-hover:scale-110 transition">
                            <i class="fas fa-bolt text-accent-600 text-xl group-hover:text-white"></i>
                        </div>
                        <h3 class="text-xl font-bold text-gray-900 mb-3">‚ö° Devis en 30 min - 1h</h3>
                        <p class="text-gray-600">
                            Au lieu de contacter 10 ou 20 fournisseurs, d√©posez <strong>une seule demande</strong>. Notre √©quipe fait le travail et vous pr√©sente le meilleur devis en <strong class="text-accent-600">30 minutes √† 1 heure maximum</strong>.
                        </p>
                    </div>
                    <div class="bg-white p-6 rounded-2xl shadow-sm border border-gray-100 hover:shadow-lg transition-all duration-300 reveal delay-100 group">
                        <div class="w-14 h-14 bg-accent-100 rounded-xl flex items-center justify-center mb-4 group-hover:bg-accent-500 group-hover:scale-110 transition">
                            <i class="fas fa-handshake text-accent-600 text-xl group-hover:text-white"></i>
                        </div>
                        <h3 class="text-xl font-bold text-gray-900 mb-3">üéØ Offre optimale garantie</h3>
                        <p class="text-gray-600">
                            Nous <strong>n√©gocions et comparons</strong> les offres de plusieurs fournisseurs. Vous recevez <strong>une seule offre consolid√©e</strong> avec les meilleures conditions, sans effort.
                        </p>
                    </div>
                    <div class="bg-white p-6 rounded-2xl shadow-sm border border-gray-100 hover:shadow-lg transition-all duration-300 reveal delay-200 group">
                        <div class="w-14 h-14 bg-primary-100 rounded-xl flex items-center justify-center mb-4 group-hover:bg-primary-600 group-hover:scale-110 transition">
                            <i class="fas fa-user-check text-primary-600 text-xl group-hover:text-white"></i>
                        </div>
                        <h3 class="text-xl font-bold text-gray-900 mb-3">‚úÖ Aucun compte requis</h3>
                        <p class="text-gray-600">
                            Commencez <strong>imm√©diatement</strong> sans cr√©er de compte. Remplissez le formulaire, recevez votre r√©f√©rence de suivi, c'est tout !
                        </p>
                    </div>
                    <div class="bg-white p-6 rounded-2xl shadow-sm border border-gray-100 hover:shadow-lg transition-all duration-300 reveal delay-100 group">
                        <div class="w-14 h-14 bg-primary-100 rounded-xl flex items-center justify-center mb-4 group-hover:bg-primary-600 group-hover:scale-110 transition">
                            <i class="fas fa-mobile-alt text-primary-600 text-xl group-hover:text-white"></i>
                        </div>
                        <h3 class="text-xl font-bold text-gray-900 mb-3">üì± Accessible partout</h3>
                        <p class="text-gray-600">
                            Utilisez la plateforme sur <strong>ordinateur, tablette ou smartphone</strong>. Suivez votre demande depuis n'importe o√π, √† tout moment.
                        </p>
                    </div>
                    <div class="bg-white p-6 rounded-2xl shadow-sm border border-gray-100 hover:shadow-lg transition-all duration-300 reveal delay-200 group">
                        <div class="w-14 h-14 bg-green-100 rounded-xl flex items-center justify-center mb-4 group-hover:bg-green-600 group-hover:scale-110 transition">
                            <i class="fas fa-bell text-green-600 text-xl group-hover:text-white"></i>
                        </div>
                        <h3 class="text-xl font-bold text-gray-900 mb-3">üîî Notifications en temps r√©el</h3>
                        <p class="text-gray-600">
                            Recevez des notifications par <strong>email, SMS ou WhatsApp</strong> √† chaque √©tape : demande re√ßue, devis pr√™t, commande valid√©e, livraison effectu√©e.
                        </p>
                    </div>
                    <div class="bg-white p-6 rounded-2xl shadow-sm border border-gray-100 hover:shadow-lg transition-all duration-300 reveal delay-300 group">
                        <div class="w-14 h-14 bg-green-100 rounded-xl flex items-center justify-center mb-4 group-hover:bg-green-600 group-hover:scale-110 transition">
                            <i class="fas fa-shield-alt text-green-600 text-xl group-hover:text-white"></i>
                        </div>
                        <h3 class="text-xl font-bold text-gray-900 mb-3">üîí S√©curis√© et confidentiel</h3>
                        <p class="text-gray-600">
                            Vos donn√©es sont <strong>prot√©g√©es</strong>. Suivi s√©curis√© avec r√©f√©rence unique. Vos informations ne sont partag√©es qu'avec les fournisseurs pertinents.
                        </p>
                    </div>
                </div>
            </div>
        </section>

        <!-- CTA Section -->
        <section class="py-20 bg-gradient-to-br from-primary-900 via-primary-800 to-primary-900 relative overflow-hidden">
            <!-- Background decoration -->
            <div class="absolute inset-0 bg-hero-pattern opacity-10"></div>
            <div class="absolute top-0 right-0 w-96 h-96 bg-primary-500 rounded-full mix-blend-multiply filter blur-3xl opacity-20 animate-blob"></div>
            <div class="absolute bottom-0 left-0 w-96 h-96 bg-accent-500 rounded-full mix-blend-multiply filter blur-3xl opacity-20 animate-blob animation-delay-2000"></div>
            
            <div class="relative max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 text-center">
                <h2 class="text-3xl md:text-4xl font-extrabold text-white mb-6">
                    Pr√™t √† simplifier vos achats ?
                </h2>
                <p class="text-xl text-primary-100 mb-4">
                    <strong>Ne perdez plus de temps √† chercher des fournisseurs.</strong> D√©crivez vos besoins en quelques clics. Notre √©quipe s'occupe de tout.
                </p>
                <p class="text-lg text-white font-semibold mb-2 bg-accent-500/20 backdrop-blur-sm inline-block px-4 py-2 rounded-lg border border-accent-400/30">
                    <i class="fas fa-bolt mr-2 text-accent-400"></i>Devis consolid√© optimal en 30 minutes √† 1 heure maximum
                </p>
                <p class="text-white font-medium mb-8">
                    100% gratuit ‚Ä¢ Aucun compte requis ‚Ä¢ Suivi en temps r√©el
                </p>
                <div class="flex flex-col sm:flex-row justify-center gap-4">
                    <button onclick="openDevisModal()" class="px-8 py-4 bg-accent-500 hover:bg-accent-600 text-white font-bold rounded-full shadow-lg shadow-accent-500/30 transition transform hover:scale-105 flex items-center justify-center gap-2 min-h-[56px]">
                        <i class="fas fa-paper-plane"></i>
                        Demander un devis gratuitement
                    </button>
                    <a href="#tracking" class="px-8 py-4 bg-white/10 hover:bg-white/20 text-white font-semibold rounded-full backdrop-blur-sm border border-white/20 transition flex items-center justify-center gap-2 min-h-[56px]">
                        <i class="fas fa-search"></i>
                        Suivre une demande existante
                    </a>
                </div>
            </div>
        </section>

        <!-- Contact Section -->
        <section id="contact" class="py-20 bg-white">
            <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
                <div class="text-center mb-12 reveal">
                    <h2 class="text-3xl font-extrabold text-gray-900 sm:text-4xl mb-4">
                        <i class="fas fa-envelope text-primary-600 mr-2"></i>
                        Contactez-nous
                    </h2>
                    <p class="text-lg text-gray-600 max-w-2xl mx-auto">
                        Une question ? Un besoin sp√©cifique ? Notre √©quipe est l√† pour vous aider
                    </p>
                </div>
                
                <div class="grid grid-cols-1 lg:grid-cols-2 gap-8 max-w-6xl mx-auto">
                    <!-- Informations de contact -->
                    <div>
                        <div style="background: white; border-radius: 20px; padding: 2.5rem; box-shadow: 0 4px 20px rgba(0, 0, 0, 0.08);">
                            <h3 style="font-size: 1.5rem; font-weight: 700; color: var(--color-primary); margin-bottom: 2rem; display: flex; align-items: center; gap: 0.75rem;">
                                <i class="fas fa-info-circle" style="color: var(--color-accent);"></i>
                                Nos coordonn√©es
                            </h3>
                            
                            <div style="display: flex; flex-direction: column; gap: 2rem;">
                                <div style="display: flex; align-items: flex-start; gap: 1rem;">
                                    <div style="width: 50px; height: 50px; background: var(--color-primary); border-radius: 12px; display: flex; align-items: center; justify-content: center; flex-shrink: 0;">
                                        <i class="fas fa-envelope" style="color: white; font-size: 1.25rem;"></i>
                                    </div>
                                    <div>
                                        <h4 style="font-size: 1rem; font-weight: 600; color: var(--color-primary); margin-bottom: 0.25rem;">Email</h4>
                                        <p style="color: var(--color-neutral); font-size: 0.95rem; margin: 0;">
                                            <a href="mailto:silycore@gmail.com" style="color: var(--color-primary); text-decoration: none;">silycore@gmail.com</a>
                                        </p>
                                    </div>
                                </div>
                                
                                <div style="display: flex; align-items: flex-start; gap: 1rem;">
                                    <div style="width: 50px; height: 50px; background: var(--color-accent); border-radius: 12px; display: flex; align-items: center; justify-content: center; flex-shrink: 0;">
                                        <i class="fas fa-phone" style="color: white; font-size: 1.25rem;"></i>
                                    </div>
                                    <div>
                                        <h4 style="font-size: 1rem; font-weight: 600; color: var(--color-primary); margin-bottom: 0.25rem;">T√©l√©phone</h4>
                                        <p style="color: var(--color-neutral); font-size: 0.95rem; margin: 0;">
                                            <a href="tel:+224622692433" style="color: var(--color-primary); text-decoration: none;">+224 622 69 24 33</a>
                                        </p>
                                    </div>
                                </div>
                                
                                <div style="display: flex; align-items: flex-start; gap: 1rem;">
                                    <div style="width: 50px; height: 50px; background: #22c55e; border-radius: 12px; display: flex; align-items: center; justify-content: center; flex-shrink: 0;">
                                        <i class="fab fa-whatsapp" style="color: white; font-size: 1.25rem;"></i>
                                    </div>
                                    <div>
                                        <h4 style="font-size: 1rem; font-weight: 600; color: var(--color-primary); margin-bottom: 0.25rem;">WhatsApp</h4>
                                        <p style="color: var(--color-neutral); font-size: 0.95rem; margin: 0;">
                                            <a href="https://wa.me/224622692433" target="_blank" style="color: var(--color-primary); text-decoration: none;">+224 622 69 24 33</a>
                                        </p>
                                    </div>
                                </div>
                                
                                <div style="display: flex; align-items: flex-start; gap: 1rem;">
                                    <div style="width: 50px; height: 50px; background: var(--color-primary); border-radius: 12px; display: flex; align-items: center; justify-content: center; flex-shrink: 0;">
                                        <i class="fas fa-clock" style="color: white; font-size: 1.25rem;"></i>
                                    </div>
                                    <div>
                                        <h4 style="font-size: 1rem; font-weight: 600; color: var(--color-primary); margin-bottom: 0.25rem;">Horaires</h4>
                                        <p style="color: var(--color-neutral); font-size: 0.95rem; margin: 0;">
                                            Lundi - Vendredi : 8h - 18h<br>
                                            Samedi : 9h - 13h
                                        </p>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                    
                    <!-- Formulaire de contact -->
                    <div>
                        <div style="background: white; border-radius: 20px; padding: 2.5rem; box-shadow: 0 4px 20px rgba(0, 0, 0, 0.08);">
                            <h3 style="font-size: 1.5rem; font-weight: 700; color: var(--color-primary); margin-bottom: 2rem; display: flex; align-items: center; gap: 0.75rem;">
                                <i class="fas fa-paper-plane" style="color: var(--color-accent);"></i>
                                Envoyez-nous un message
                            </h3>
                            
                            <form id="contactForm" onsubmit="submitContactForm(event)" style="display: flex; flex-direction: column; gap: 1.5rem;">
                                <div class="form-group" style="margin-bottom: 0;">
                                    <label for="contact-nom" style="display: flex; align-items: center; gap: 0.5rem; margin-bottom: 0.5rem; font-weight: 600; color: var(--color-primary);">
                                        <i class="fas fa-user"></i> Nom complet *
                                    </label>
                                    <input type="text" id="contact-nom" name="nom" required 
                                           placeholder="Votre nom complet"
                                           style="width: 100%; padding: 1rem; border: 2px solid #E0E7FF; border-radius: 12px; font-size: 1rem; font-family: inherit; transition: all 0.3s; box-sizing: border-box;"
                                           onfocus="this.style.borderColor='var(--color-primary)'; this.style.boxShadow='0 0 0 3px rgba(0, 56, 122, 0.1)'"
                                           onblur="this.style.borderColor='#E0E7FF'; this.style.boxShadow='none'">
                                </div>
                                
                                <div class="form-group" style="margin-bottom: 0;">
                                    <label for="contact-email" style="display: flex; align-items: center; gap: 0.5rem; margin-bottom: 0.5rem; font-weight: 600; color: var(--color-primary);">
                                        <i class="fas fa-envelope"></i> Email *
                                    </label>
                                    <input type="email" id="contact-email" name="email" required 
                                           placeholder="votre.email@exemple.com"
                                           style="width: 100%; padding: 1rem; border: 2px solid #E0E7FF; border-radius: 12px; font-size: 1rem; font-family: inherit; transition: all 0.3s; box-sizing: border-box;"
                                           onfocus="this.style.borderColor='var(--color-primary)'; this.style.boxShadow='0 0 0 3px rgba(0, 56, 122, 0.1)'"
                                           onblur="this.style.borderColor='#E0E7FF'; this.style.boxShadow='none'">
                                </div>
                                
                                <div class="form-group" style="margin-bottom: 0;">
                                    <label for="contact-telephone" style="display: flex; align-items: center; gap: 0.5rem; margin-bottom: 0.5rem; font-weight: 600; color: var(--color-primary);">
                                        <i class="fas fa-phone"></i> T√©l√©phone
                                    </label>
                                    <input type="tel" id="contact-telephone" name="telephone" 
                                           placeholder="+224 622 69 24 33"
                                           style="width: 100%; padding: 1rem; border: 2px solid #E0E7FF; border-radius: 12px; font-size: 1rem; font-family: inherit; transition: all 0.3s; box-sizing: border-box;"
                                           onfocus="this.style.borderColor='var(--color-primary)'; this.style.boxShadow='0 0 0 3px rgba(0, 56, 122, 0.1)'"
                                           onblur="this.style.borderColor='#E0E7FF'; this.style.boxShadow='none'">
                                </div>
                                
                                <div class="form-group" style="margin-bottom: 0;">
                                    <label for="contact-sujet" style="display: flex; align-items: center; gap: 0.5rem; margin-bottom: 0.5rem; font-weight: 600; color: var(--color-primary);">
                                        <i class="fas fa-tag"></i> Sujet *
                                    </label>
                                    <select id="contact-sujet" name="sujet" required
                                            style="width: 100%; padding: 1rem; border: 2px solid #E0E7FF; border-radius: 12px; font-size: 1rem; font-family: inherit; transition: all 0.3s; box-sizing: border-box; cursor: pointer; background: white;"
                                            onfocus="this.style.borderColor='var(--color-primary)'; this.style.boxShadow='0 0 0 3px rgba(0, 56, 122, 0.1)'"
                                            onblur="this.style.borderColor='#E0E7FF'; this.style.boxShadow='none'">
                                        <option value="">S√©lectionnez un sujet</option>
                                        <option value="demande-info">Demande d'information</option>
                                        <option value="support">Support technique</option>
                                        <option value="partenariat">Partenariat</option>
                                        <option value="autre">Autre</option>
                                    </select>
                                </div>
                                
                                <div class="form-group" style="margin-bottom: 0;">
                                    <label for="contact-message" style="display: flex; align-items: center; gap: 0.5rem; margin-bottom: 0.5rem; font-weight: 600; color: var(--color-primary);">
                                        <i class="fas fa-comment-alt"></i> Message *
                                    </label>
                                    <textarea id="contact-message" name="message" required rows="5"
                                              placeholder="D√©crivez votre demande ou votre question..."
                                              style="width: 100%; padding: 1rem; border: 2px solid #E0E7FF; border-radius: 12px; font-size: 1rem; font-family: inherit; transition: all 0.3s; box-sizing: border-box; resize: vertical;"
                                              onfocus="this.style.borderColor='var(--color-primary)'; this.style.boxShadow='0 0 0 3px rgba(0, 56, 122, 0.1)'"
                                              onblur="this.style.borderColor='#E0E7FF'; this.style.boxShadow='none'"></textarea>
                                </div>
                                
                                <button type="submit" class="btn-primary-large" style="width: 100%; margin-top: 0.5rem; padding: 1.25rem; font-size: 1.125rem; border: none; cursor: pointer;">
                                    <i class="fas fa-paper-plane"></i>
                                    Envoyer le message
                                </button>
                                
                                <div id="contact-form-message" style="margin-top: 1rem; padding: 1rem; border-radius: 12px; display: none;"></div>
                            </form>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <!-- Footer -->
        <footer class="bg-gray-900 text-white py-12 border-t border-gray-800">
            <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
                <div class="grid grid-cols-1 md:grid-cols-4 gap-8">
                    <div class="col-span-1 md:col-span-2">
                        <span class="text-2xl font-bold tracking-tight">Sily<span class="text-primary-500">Procure</span></span>
                        <p class="mt-4 text-gray-400 max-w-sm">
                            La solution moderne pour centraliser et simplifier les achats des entreprises en Guin√©e et en Afrique de l'Ouest.
                        </p>
                        <div class="flex gap-4 mt-6">
                            <a href="#" class="text-gray-400 hover:text-white transition"><i class="fab fa-linkedin text-xl"></i></a>
                            <a href="#" class="text-gray-400 hover:text-white transition"><i class="fab fa-twitter text-xl"></i></a>
                            <a href="#" class="text-gray-400 hover:text-white transition"><i class="fab fa-facebook text-xl"></i></a>
                        </div>
                    </div>
                    <div>
                        <h3 class="text-sm font-semibold text-gray-300 uppercase tracking-wider mb-4">Liens Rapides</h3>
                        <ul class="space-y-3">
                            <li><a href="#fonctionnement" class="text-gray-400 hover:text-primary-400 transition">Comment √ßa marche</a></li>
                            <li><a href="#services" class="text-gray-400 hover:text-primary-400 transition">Services</a></li>
                            <li><a href="#tracking" class="text-gray-400 hover:text-primary-400 transition">Suivi</a></li>
                            <li><a href="#contact" class="text-gray-400 hover:text-primary-400 transition">Contact</a></li>
                        </ul>
                    </div>
                    <div>
                        <h3 class="text-sm font-semibold text-gray-300 uppercase tracking-wider mb-4">L√©gal</h3>
                        <ul class="space-y-3">
                            <li><a href="#" class="text-gray-400 hover:text-primary-400 transition">Confidentialit√©</a></li>
                            <li><a href="#" class="text-gray-400 hover:text-primary-400 transition">CGU</a></li>
                            <li><a href="#" class="text-gray-400 hover:text-primary-400 transition">Mentions L√©gales</a></li>
                        </ul>
                    </div>
                </div>
                <div class="mt-12 pt-8 border-t border-gray-800 text-center text-gray-500 text-sm">
                    &copy; 2026 Silycore - Tous droits r√©serv√©s
                </div>
            </div>
        </footer>

    <!-- Modal Demande de Devis -->
    <div id="devisModal" class="modal-overlay hidden" onclick="closeModalOnOverlay(event)">
        <div class="modal-content" onclick="event.stopPropagation()">
            <button class="modal-close" onclick="closeDevisModal()">
                <i class="fas fa-times"></i>
            </button>
            <h2 class="modal-title">Demander un devis</h2>
            <p style="color: var(--color-neutral); margin-bottom: 2rem;">
                Remplissez le formulaire ci-dessous avec vos besoins. Notre √©quipe traite votre demande rapidement et vous pr√©sente un devis consolid√© dans les <strong style="color: var(--color-accent);">30 minutes √† 1 heure maximum</strong>.
            </p>
            <form id="devisForm" class="modal-form" onsubmit="submitDevisRequest(event)">
                <!-- Informations du client -->
                <h3 class="section-title-form"><i class="fas fa-user"></i> Vos informations</h3>
                <div class="form-group">
                    <label for="nom"><i class="fas fa-user"></i> Nom complet *</label>
                    <input type="text" id="nom" name="nom" required placeholder="Votre nom">
                </div>
                <div class="form-group">
                    <label for="email"><i class="fas fa-envelope"></i> Email *</label>
                    <input type="email" id="email" name="email" required placeholder="votre.email@exemple.com">
                </div>
                <div class="form-group">
                    <label for="telephone"><i class="fas fa-phone"></i> T√©l√©phone *</label>
                    <input type="tel" id="telephone" name="telephone" required placeholder="+224 622 69 24 33">
                </div>
                <div class="form-group" style="background: var(--color-background-light); padding: 1rem; border-radius: 12px; border-left: 4px solid var(--color-accent);">
                    <label for="mode_notification" style="display: flex; align-items: center; gap: 0.5rem; margin-bottom: 0.75rem;">
                        <i class="fas fa-bell" style="color: var(--color-accent);"></i> 
                        <span>Mode de notification *</span>
                    </label>
                    <select id="mode_notification" name="mode_notification" required style="font-weight: 500;">
                        <option value="email">Email</option>
                        <option value="sms">SMS</option>
                        <option value="whatsapp">WhatsApp</option>
                    </select>
                    <small style="color: var(--color-neutral); font-size: 0.85rem; margin-top: 0.5rem; display: block; font-style: italic;">
                        <i class="fas fa-info-circle"></i> Vous recevrez la r√©f√©rence de suivi et le lien de suivi par ce moyen
                    </small>
                </div>
                <div class="form-group">
                    <label for="entreprise"><i class="fas fa-building"></i> Entreprise</label>
                    <input type="text" id="entreprise" name="entreprise" placeholder="Nom de votre entreprise">
                </div>

                <!-- Articles demand√©s -->
                <h3 class="section-title-form"><i class="fas fa-box"></i> Articles demand√©s</h3>
                <p style="color: var(--color-neutral); font-size: 0.9rem; margin-bottom: 1rem;">
                    Ajoutez les articles pour lesquels vous souhaitez recevoir un devis. Vous pouvez ajouter plusieurs lignes.
                </p>
                <div id="articles-container">
                    <!-- Les lignes d'articles seront ajout√©es ici dynamiquement -->
                </div>
                <button type="button" class="btn-add-ligne" onclick="addArticleLigne()">
                    <i class="fas fa-plus"></i> Ajouter un article
                </button>

                <!-- Adresse de livraison -->
                <h3 class="section-title-form"><i class="fas fa-truck"></i> Adresse de livraison</h3>
                <div class="form-group">
                    <label for="adresse_livraison"><i class="fas fa-map-marker-alt"></i> Adresse compl√®te *</label>
                    <textarea id="adresse_livraison" name="adresse_livraison" required rows="3" 
                              placeholder="Rue, quartier, num√©ro..."></textarea>
                </div>
                <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 1rem;">
                    <div class="form-group">
                        <label for="ville_livraison"><i class="fas fa-city"></i> Ville *</label>
                        <input type="text" id="ville_livraison" name="ville_livraison" required placeholder="Conakry">
                    </div>
                    <div class="form-group">
                        <label for="pays_livraison"><i class="fas fa-globe"></i> Pays *</label>
                        <input type="text" id="pays_livraison" name="pays_livraison" required value="Guin√©e" placeholder="Guin√©e">
                    </div>
                </div>
                
                <!-- G√©olocalisation optionnelle -->
                <div class="form-group" style="background: var(--color-background-light); padding: 1rem; border-radius: 12px; border-left: 4px solid var(--color-accent);">
                    <label style="display: flex; align-items: center; gap: 0.5rem; margin-bottom: 0.75rem;">
                        <i class="fas fa-map-marked-alt" style="color: var(--color-accent);"></i> 
                        <span>G√©olocalisation (optionnel)</span>
                    </label>
                    <p style="color: var(--color-neutral); font-size: 0.85rem; margin-bottom: 1rem; font-style: italic;">
                        <i class="fas fa-info-circle"></i> 
                        Partagez votre position GPS pour faciliter la livraison. Vos coordonn√©es restent confidentielles.
                    </p>
                    <div style="display: flex; gap: 0.75rem; align-items: center; flex-wrap: wrap;">
                        <button type="button" class="btn btn-secondary" onclick="getCurrentLocation()" id="btn-geoloc" style="display: flex; align-items: center; gap: 0.5rem;">
                            <i class="fas fa-crosshairs"></i> Utiliser ma position
                        </button>
                        <button type="button" class="btn btn-secondary" onclick="clearGeolocation()" id="btn-clear-geoloc" style="display: none; align-items: center; gap: 0.5rem;">
                            <i class="fas fa-times"></i> Effacer
                        </button>
                        <div id="geoloc-status" style="display: none; padding: 0.5rem 1rem; background: white; border-radius: 8px; border: 1px solid #ddd; flex: 1; min-width: 200px;">
                            <div style="display: flex; align-items: center; gap: 0.5rem; color: var(--color-success);">
                                <i class="fas fa-check-circle"></i>
                                <span style="font-size: 0.9rem; font-weight: 500;">Position enregistr√©e</span>
                            </div>
                            <div id="geoloc-coords" style="font-size: 0.8rem; color: var(--color-neutral); margin-top: 0.25rem;"></div>
                        </div>
                    </div>
                    <input type="hidden" id="latitude" name="latitude">
                    <input type="hidden" id="longitude" name="longitude">
                </div>

                <!-- Message optionnel -->
                <div class="form-group" style="margin-top: 2rem;">
                    <label for="message"><i class="fas fa-comment"></i> Message ou commentaires (optionnel)</label>
                    <textarea id="message" name="message" rows="3" 
                              placeholder="Informations compl√©mentaires, d√©lais souhait√©s, conditions particuli√®res..."></textarea>
                </div>

                <!-- Upload de fichiers -->
                <div class="form-group" style="margin-top: 2rem; background: var(--color-background-light); padding: 1.5rem; border-radius: 12px; border: 2px dashed var(--color-primary);">
                    <label style="display: flex; align-items: center; gap: 0.5rem; margin-bottom: 1rem; color: var(--color-primary); font-weight: 600;">
                        <i class="fas fa-paperclip"></i> 
                        <span>Fichiers joints (optionnel)</span>
                    </label>
                    <p style="color: var(--color-neutral); font-size: 0.9rem; margin-bottom: 1rem;">
                        <i class="fas fa-info-circle"></i> 
                        Vous pouvez joindre des fichiers PDF, Excel ou des images pour faciliter notre compr√©hension de vos besoins.
                        Formats accept√©s : PDF, Excel (.xlsx, .xls), Images (JPG, PNG, GIF, WebP)
                    </p>
                    <div id="file-upload-area" style="position: relative;">
                        <input type="file" id="fichiers" name="fichiers" multiple 
                               accept=".pdf,.xlsx,.xls,.jpg,.jpeg,.png,.gif,.webp"
                               style="display: none;"
                               onchange="handleFileSelect(event)">
                        <div id="file-drop-zone" 
                             style="border: 2px dashed var(--color-primary); border-radius: 8px; padding: 2rem; text-align: center; cursor: pointer; transition: all 0.3s; background: white;"
                             ondrop="handleFileDrop(event)" 
                             ondragover="handleDragOver(event)" 
                             ondragleave="handleDragLeave(event)"
                             onclick="document.getElementById('fichiers').click()">
                            <i class="fas fa-cloud-upload-alt" style="font-size: 2.5rem; color: var(--color-primary); margin-bottom: 1rem;"></i>
                            <p style="color: var(--color-neutral); margin: 0.5rem 0; font-weight: 500;">
                                Cliquez ici ou glissez-d√©posez vos fichiers
                            </p>
                            <p style="color: var(--color-neutral); font-size: 0.85rem; margin: 0;">
                                Taille maximale : 10 MB par fichier
                            </p>
                        </div>
                        <div id="file-list" style="margin-top: 1rem; display: none;">
                            <h4 style="font-size: 0.9rem; margin-bottom: 0.75rem; color: var(--color-neutral);">
                                <i class="fas fa-list"></i> Fichiers s√©lectionn√©s :
                            </h4>
                            <div id="file-items" style="display: flex; flex-direction: column; gap: 0.5rem;"></div>
                        </div>
                    </div>
                </div>

                <button type="submit" class="btn-primary-large" style="width: 100%; margin-top: 1.5rem;">
                    <i class="fas fa-paper-plane"></i>
                    Envoyer la demande de devis
                </button>
            </form>
        </div>
    </div>

    <script>
        // Fonction de d√©connexion
        function logout() {
            localStorage.removeItem('token');
            localStorage.removeItem('user');
            window.location.href = 'index.html';
        }

        // V√©rifier si l'utilisateur est connect√© et mettre √† jour le menu
        document.addEventListener('DOMContentLoaded', () => {
            const token = localStorage.getItem('token');
            const user = JSON.parse(localStorage.getItem('user') || '{}');
            const authLink = document.getElementById('auth-link');
            const authLinkMobile = document.getElementById('auth-link-mobile');
            const authText = document.getElementById('auth-text');
            
            if (token && (user.role === 'admin' || user.role === 'superviseur')) {
                // L'utilisateur est connect√© (admin ou superviseur)
                if (authLink && authText) {
                    authLink.href = 'dashboard.html';
                    authLink.innerHTML = '<i class="fas fa-tachometer-alt"></i><span>Dashboard</span>';
                    authText.textContent = 'Dashboard';
                }
                if (authLinkMobile) {
                    authLinkMobile.href = 'dashboard.html';
                    authLinkMobile.innerHTML = '<i class="fas fa-tachometer-alt mr-2"></i><span>Dashboard</span>';
                }
            } else {
                // L'utilisateur n'est pas connect√© ou n'est pas admin/superviseur
                if (authLink) {
                    authLink.href = 'index.html';
                    authLink.onclick = null;
                }
                if (authLinkMobile) {
                    authLinkMobile.href = 'index.html';
                }
            }
        });

        // Compteur pour les lignes d'articles
        let articleLigneCount = 0;

        // Ouvrir le modal de demande de devis
        function openDevisModal() {
            const modal = document.getElementById('devisModal');
            modal.classList.remove('hidden');
            modal.classList.add('active');
            document.body.style.overflow = 'hidden';
            // R√©initialiser le formulaire et ajouter une premi√®re ligne
            document.getElementById('devisForm').reset();
            document.getElementById('articles-container').innerHTML = '';
            articleLigneCount = 0;
            selectedFiles = [];
            displayFileList();
            clearGeolocation();
            addArticleLigne(); // Ajouter une premi√®re ligne par d√©faut
        }

        // Fermer le modal
        function closeDevisModal() {
            const modal = document.getElementById('devisModal');
            modal.classList.remove('active');
            modal.classList.add('hidden');
            document.body.style.overflow = '';
            // R√©initialiser le formulaire
            document.getElementById('devisForm').reset();
            document.getElementById('articles-container').innerHTML = '';
            articleLigneCount = 0;
            selectedFiles = [];
            displayFileList();
            clearGeolocation();
        }

        // G√©olocalisation
        function getCurrentLocation() {
            const btn = document.getElementById('btn-geoloc');
            const originalText = btn.innerHTML;
            btn.disabled = true;
            btn.innerHTML = '<i class="fas fa-spinner fa-spin"></i> R√©cup√©ration...';

            if (!navigator.geolocation) {
                alert('‚ùå La g√©olocalisation n\'est pas support√©e par votre navigateur.');
                btn.disabled = false;
                btn.innerHTML = originalText;
                return;
            }

            navigator.geolocation.getCurrentPosition(
                (position) => {
                    const lat = position.coords.latitude;
                    const lng = position.coords.longitude;
                    
                    document.getElementById('latitude').value = lat;
                    document.getElementById('longitude').value = lng;
                    
                    // Afficher le statut
                    document.getElementById('geoloc-status').style.display = 'block';
                    document.getElementById('geoloc-coords').textContent = `Lat: ${lat.toFixed(6)}, Lng: ${lng.toFixed(6)}`;
                    document.getElementById('btn-clear-geoloc').style.display = 'flex';
                    
                    btn.disabled = false;
                    btn.innerHTML = originalText;
                    
                    // Afficher un message de succ√®s (si Toast est disponible)
                    if (typeof Toast !== 'undefined' && Toast.success) {
                        Toast.success('Position GPS enregistr√©e avec succ√®s');
                    }
                },
                (error) => {
                    let errorMsg = 'Impossible de r√©cup√©rer votre position';
                    switch(error.code) {
                        case error.PERMISSION_DENIED:
                            errorMsg = 'Permission de g√©olocalisation refus√©e';
                            break;
                        case error.POSITION_UNAVAILABLE:
                            errorMsg = 'Position indisponible';
                            break;
                        case error.TIMEOUT:
                            errorMsg = 'D√©lai d\'attente d√©pass√©';
                            break;
                    }
                    
                    btn.disabled = false;
                    btn.innerHTML = originalText;
                    
                    if (typeof Toast !== 'undefined' && Toast.error) {
                        Toast.error(errorMsg);
                    } else {
                        alert('‚ùå ' + errorMsg);
                    }
                },
                {
                    enableHighAccuracy: true,
                    timeout: 10000,
                    maximumAge: 0
                }
            );
        }

        function clearGeolocation() {
            document.getElementById('latitude').value = '';
            document.getElementById('longitude').value = '';
            document.getElementById('geoloc-status').style.display = 'none';
            document.getElementById('btn-clear-geoloc').style.display = 'none';
        }

        // Ajouter une ligne d'article
        function addArticleLigne() {
            articleLigneCount++;
            const container = document.getElementById('articles-container');
            const ligneDiv = document.createElement('div');
            ligneDiv.className = 'article-ligne';
            ligneDiv.id = `article-ligne-${articleLigneCount}`;
            
            ligneDiv.innerHTML = `
                <div class="article-ligne-header">
                    <span class="article-ligne-number">Article #${articleLigneCount}</span>
                    ${articleLigneCount > 1 ? `<button type="button" class="btn-remove-ligne" onclick="removeArticleLigne(${articleLigneCount})">
                        <i class="fas fa-trash"></i> Supprimer
                    </button>` : ''}
                </div>
                <div class="article-ligne-fields">
                    <div class="form-group">
                        <label>Description de l'article *</label>
                        <input type="text" name="article-description[]" required 
                               placeholder="Ex: Ordinateur portable, Riz, Produit chimique...">
                    </div>
                    <div class="form-group">
                        <label>Secteur/Cat√©gorie *</label>
                        <select name="article-secteur[]" required>
                            <option value="">S√©lectionner un secteur</option>
                            <option value="alimentation">Alimentation</option>
                            <option value="electronique">√âlectronique</option>
                            <option value="chimique">Chimique</option>
                            <option value="informatique">Informatique</option>
                            <option value="bureau">Fournitures de bureau</option>
                            <option value="construction">Construction</option>
                            <option value="textile">Textile</option>
                            <option value="pharmaceutique">Pharmaceutique</option>
                            <option value="automobile">Automobile</option>
                            <option value="agriculture">Agriculture</option>
                            <option value="autre">Autre</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label>Quantit√© *</label>
                        <input type="number" name="article-quantite[]" required min="0.01" step="0.01" 
                               placeholder="1" value="1">
                    </div>
                    <div class="form-group">
                        <label>Unit√©</label>
                        <select name="article-unite[]">
                            <option value="unit√©">Unit√©</option>
                            <option value="kg">Kilogramme (kg)</option>
                            <option value="g">Gramme (g)</option>
                            <option value="L">Litre (L)</option>
                            <option value="mL">Millilitre (mL)</option>
                            <option value="m">M√®tre (m)</option>
                            <option value="m¬≤">M√®tre carr√© (m¬≤)</option>
                            <option value="m¬≥">M√®tre cube (m¬≥)</option>
                            <option value="paquet">Paquet</option>
                            <option value="carton">Carton</option>
                            <option value="palette">Palette</option>
                            <option value="lot">Lot</option>
                        </select>
                    </div>
                </div>
            `;
            
            container.appendChild(ligneDiv);
        }

        // Supprimer une ligne d'article
        function removeArticleLigne(id) {
            const ligne = document.getElementById(`article-ligne-${id}`);
            if (ligne) {
                ligne.remove();
                // Renum√©roter les lignes restantes
                updateArticleLigneNumbers();
            }
        }

        // Renum√©roter les lignes d'articles
        function updateArticleLigneNumbers() {
            const lignes = document.querySelectorAll('.article-ligne');
            lignes.forEach((ligne, index) => {
                const number = index + 1;
                const header = ligne.querySelector('.article-ligne-header');
                if (header) {
                    const numberSpan = header.querySelector('.article-ligne-number');
                    if (numberSpan) {
                        numberSpan.textContent = `Article #${number}`;
                    }
                    // Afficher le bouton supprimer si plus d'une ligne
                    const removeBtn = header.querySelector('.btn-remove-ligne');
                    if (number > 1) {
                        if (!removeBtn) {
                            const btn = document.createElement('button');
                            btn.type = 'button';
                            btn.className = 'btn-remove-ligne';
                            btn.onclick = () => removeArticleLigne(number);
                            btn.innerHTML = '<i class="fas fa-trash"></i> Supprimer';
                            header.appendChild(btn);
                        } else {
                            removeBtn.onclick = () => removeArticleLigne(number);
                        }
                    } else if (removeBtn) {
                        removeBtn.remove();
                    }
                }
            });
        }

        // Fermer en cliquant sur l'overlay
        function closeModalOnOverlay(event) {
            if (event.target.classList.contains('modal-overlay') || event.target.id === 'devisModal') {
                closeDevisModal();
            }
        }

        // Gestion des fichiers upload√©s
        let selectedFiles = [];

        function handleFileSelect(event) {
            const files = Array.from(event.target.files);
            addFiles(files);
        }

        function handleFileDrop(event) {
            event.preventDefault();
            event.stopPropagation();
            const dropZone = document.getElementById('file-drop-zone');
            dropZone.style.borderColor = 'var(--color-primary)';
            dropZone.style.background = 'white';
            
            const files = Array.from(event.dataTransfer.files);
            addFiles(files);
        }

        function handleDragOver(event) {
            event.preventDefault();
            event.stopPropagation();
            const dropZone = document.getElementById('file-drop-zone');
            dropZone.style.borderColor = 'var(--color-accent)';
            dropZone.style.background = 'var(--color-background-light)';
        }

        function handleDragLeave(event) {
            event.preventDefault();
            event.stopPropagation();
            const dropZone = document.getElementById('file-drop-zone');
            dropZone.style.borderColor = 'var(--color-primary)';
            dropZone.style.background = 'white';
        }

        function addFiles(files) {
            const maxSize = 10 * 1024 * 1024; // 10 MB
            const allowedTypes = [
                'application/pdf',
                'application/vnd.openxmlformats-officedocument.spreadsheetml.sheet',
                'application/vnd.ms-excel',
                'image/jpeg',
                'image/jpg',
                'image/png',
                'image/gif',
                'image/webp'
            ];

            files.forEach(file => {
                // V√©rifier la taille
                if (file.size > maxSize) {
                    alert(`‚ùå Le fichier "${file.name}" d√©passe la taille maximale de 10 MB.`);
                    return;
                }

                // V√©rifier le type
                if (!allowedTypes.includes(file.type)) {
                    alert(`‚ùå Le fichier "${file.name}" n'est pas dans un format accept√©. Formats accept√©s : PDF, Excel, Images.`);
                    return;
                }

                // V√©rifier si le fichier n'est pas d√©j√† s√©lectionn√©
                if (selectedFiles.find(f => f.name === file.name && f.size === file.size)) {
                    return;
                }

                selectedFiles.push(file);
            });

            displayFileList();
        }

        function displayFileList() {
            const fileList = document.getElementById('file-list');
            const fileItems = document.getElementById('file-items');

            if (selectedFiles.length === 0) {
                fileList.style.display = 'none';
                return;
            }

            fileList.style.display = 'block';
            fileItems.innerHTML = selectedFiles.map((file, index) => {
                const fileIcon = getFileIcon(file.type);
                const fileSize = formatFileSize(file.size);
                return `
                    <div style="display: flex; align-items: center; justify-content: space-between; padding: 0.75rem; background: white; border-radius: 8px; border: 1px solid #ddd;">
                        <div style="display: flex; align-items: center; gap: 0.75rem; flex: 1;">
                            <i class="${fileIcon}" style="font-size: 1.5rem; color: var(--color-primary);"></i>
                            <div style="flex: 1; min-width: 0;">
                                <div style="font-weight: 500; color: var(--color-text); overflow: hidden; text-overflow: ellipsis; white-space: nowrap;">
                                    ${file.name}
                                </div>
                                <div style="font-size: 0.85rem; color: var(--color-neutral);">
                                    ${fileSize}
                                </div>
                            </div>
                        </div>
                        <button type="button" onclick="removeFile(${index})" 
                                style="background: none; border: none; color: var(--color-danger); cursor: pointer; padding: 0.5rem; border-radius: 4px; transition: background 0.2s;"
                                onmouseover="this.style.background='#fee2e2'" 
                                onmouseout="this.style.background='none'">
                            <i class="fas fa-times"></i>
                        </button>
                    </div>
                `;
            }).join('');
        }

        function getFileIcon(mimeType) {
            if (mimeType === 'application/pdf') return 'fas fa-file-pdf';
            if (mimeType.includes('excel') || mimeType.includes('spreadsheet')) return 'fas fa-file-excel';
            if (mimeType.includes('image')) return 'fas fa-file-image';
            return 'fas fa-file';
        }

        function formatFileSize(bytes) {
            if (bytes === 0) return '0 Bytes';
            const k = 1024;
            const sizes = ['Bytes', 'KB', 'MB', 'GB'];
            const i = Math.floor(Math.log(bytes) / Math.log(k));
            return Math.round(bytes / Math.pow(k, i) * 100) / 100 + ' ' + sizes[i];
        }

        function removeFile(index) {
            selectedFiles.splice(index, 1);
            displayFileList();
            // R√©initialiser l'input file
            document.getElementById('fichiers').value = '';
        }

        // Soumettre le formulaire de demande de devis
        async function submitDevisRequest(event) {
            event.preventDefault();
            
            const form = event.target;
            const formData = new FormData(form);
            
            // Collecter les lignes d'articles
            const articles = [];
            const descriptions = formData.getAll('article-description[]');
            const secteurs = formData.getAll('article-secteur[]');
            const quantites = formData.getAll('article-quantite[]');
            const unites = formData.getAll('article-unite[]');
            
            for (let i = 0; i < descriptions.length; i++) {
                if (descriptions[i] && descriptions[i].trim()) {
                    articles.push({
                        description: descriptions[i].trim(),
                        secteur: secteurs[i] || null,
                        quantite: parseFloat(quantites[i]) || 1,
                        unite: unites[i] || 'unit√©',
                        ordre: i + 1
                    });
                }
            }
            
            // V√©rifier qu'au moins un article est pr√©sent
            if (articles.length === 0) {
                alert('‚ùå Veuillez ajouter au moins un article √† votre demande.');
                return;
            }
            
            const submitButton = form.querySelector('button[type="submit"]');
            const originalText = submitButton.innerHTML;
            
            // D√©sactiver le bouton et afficher le chargement
            submitButton.disabled = true;
            submitButton.innerHTML = '<i class="fas fa-spinner fa-spin"></i> Envoi en cours...';
            
            try {
                // Cr√©er un FormData pour envoyer les fichiers
                const uploadFormData = new FormData();
                uploadFormData.append('nom', formData.get('nom'));
                uploadFormData.append('email', formData.get('email'));
                uploadFormData.append('telephone', formData.get('telephone'));
                uploadFormData.append('entreprise', formData.get('entreprise') || '');
                uploadFormData.append('message', formData.get('message') || '');
                uploadFormData.append('adresse_livraison', formData.get('adresse_livraison'));
                uploadFormData.append('ville_livraison', formData.get('ville_livraison'));
                uploadFormData.append('pays_livraison', formData.get('pays_livraison'));
                uploadFormData.append('mode_notification', formData.get('mode_notification') || 'email');
                
                // Ajouter g√©olocalisation si disponible
                const latitude = document.getElementById('latitude').value;
                const longitude = document.getElementById('longitude').value;
                if (latitude && longitude) {
                    uploadFormData.append('latitude', latitude);
                    uploadFormData.append('longitude', longitude);
                }
                
                uploadFormData.append('articles', JSON.stringify(articles));
                
                // Ajouter les fichiers
                selectedFiles.forEach((file, index) => {
                    uploadFormData.append(`fichiers`, file);
                });

                // Envoyer les donn√©es √† l'API backend
                const response = await fetch('/api/contact/devis-request', {
                    method: 'POST',
                    body: uploadFormData
                });

                const result = await response.json();
                
                if (response.ok) {
                    // Afficher un message de succ√®s avec la r√©f√©rence
                    const message = result.reference 
                        ? `‚úÖ ${result.message}\n\nR√©f√©rence: ${result.reference}\n\nVous pouvez suivre votre demande en utilisant cette r√©f√©rence et le code que vous recevrez.`
                        : result.message;
                    
                    alert(message);
                    
                    // Si une URL de suivi est fournie, proposer d'y aller
                    if (result.trackingUrl) {
                        if (confirm('Voulez-vous acc√©der √† la page de suivi maintenant ?')) {
                            window.open(result.trackingUrl, '_blank');
                        }
                    }
                    
                    // R√©initialiser le formulaire
                    form.reset();
                    selectedFiles = [];
                    displayFileList();
                    closeDevisModal();
                } else {
                    alert('‚ùå ' + (result.error || 'Une erreur est survenue lors de l\'envoi. Veuillez r√©essayer.'));
                }
                
            } catch (error) {
                console.error('Erreur:', error);
                alert('‚ùå Une erreur est survenue lors de l\'envoi. Veuillez r√©essayer ou nous contacter directement.');
            } finally {
                submitButton.disabled = false;
                submitButton.innerHTML = originalText;
            }
        }

        // Fonction pour suivre une demande depuis la page d'accueil
        function trackFromHome(event) {
            event.preventDefault();
            
            const reference = document.getElementById('ref-home').value.trim().toUpperCase();
            const token = document.getElementById('token-home').value.trim();
            const errorDiv = document.getElementById('trackingErrorHome');

            if (!reference || !token) {
                errorDiv.textContent = 'Veuillez remplir tous les champs';
                errorDiv.classList.remove('hidden');
                return;
            }

            // Masquer l'erreur pr√©c√©dente
            errorDiv.classList.add('hidden');

            // Rediriger vers la page de suivi avec les param√®tres
            window.location.href = `/suivi?ref=${encodeURIComponent(reference)}&token=${encodeURIComponent(token)}`;
        }

        // Navbar scroll effect
        window.addEventListener('scroll', () => {
            const navbar = document.getElementById('navbar');
            if (window.scrollY > 50) {
                navbar.classList.add('scrolled');
            } else {
                navbar.classList.remove('scrolled');
            }
        });

        // Smooth scroll pour les liens d'ancrage
        document.querySelectorAll('a[href^="#"]').forEach(anchor => {
            anchor.addEventListener('click', function (e) {
                e.preventDefault();
                const target = document.querySelector(this.getAttribute('href'));
                if (target) {
                    const offset = 80; // Offset pour la navbar fixe
                    const targetPosition = target.getBoundingClientRect().top + window.pageYOffset - offset;
                    window.scrollTo({
                        top: targetPosition,
                        behavior: 'smooth'
                    });
                }
            });
        });

        // Scroll Reveal Animation
        const observer = new IntersectionObserver((entries) => {
            entries.forEach(entry => {
                if (entry.isIntersecting) {
                    entry.target.classList.add('active');
                }
            });
        }, {
            threshold: 0.1,
            rootMargin: '0px 0px -50px 0px'
        });

        // Observer tous les √©l√©ments avec la classe reveal
        document.querySelectorAll('.reveal').forEach(el => observer.observe(el));
        
        // Forcer l'animation fade-in-up au chargement de la page
        document.addEventListener('DOMContentLoaded', () => {
            // D√©clencher l'animation pour tous les √©l√©ments fade-in-up
            const fadeElements = document.querySelectorAll('.fade-in-up');
            fadeElements.forEach((el, index) => {
                // Forcer le reflow pour d√©clencher l'animation
                void el.offsetHeight;
                // Ajouter un petit d√©lai pour chaque √©l√©ment
                setTimeout(() => {
                    el.style.opacity = '1';
                    el.style.transform = 'translateY(0)';
                }, index * 50);
            });
        });

        // Fonction pour soumettre le formulaire de contact
        async function submitContactForm(event) {
            event.preventDefault();
            
            const form = event.target;
            const formData = new FormData(form);
            const messageDiv = document.getElementById('contact-form-message');
            const submitButton = form.querySelector('button[type="submit"]');
            const originalButtonText = submitButton.innerHTML;
            
            // D√©sactiver le bouton et afficher le chargement
            submitButton.disabled = true;
            submitButton.innerHTML = '<i class="fas fa-spinner fa-spin"></i> Envoi en cours...';
            messageDiv.style.display = 'none';
            
            try {
                // Pr√©parer les donn√©es
                const data = {
                    nom: formData.get('nom'),
                    email: formData.get('email'),
                    telephone: formData.get('telephone') || null,
                    sujet: formData.get('sujet'),
                    message: formData.get('message')
                };
                
                // Envoyer la requ√™te √† l'API
                const response = await fetch('/api/contact/message', {
                    method: 'POST',
                    headers: {
                        'Content-Type': 'application/json'
                    },
                    body: JSON.stringify(data)
                });
                
                if (!response.ok) {
                    throw new Error('Erreur lors de l\'envoi du message');
                }
                
                const result = await response.json();
                
                // Afficher le message de succ√®s
                messageDiv.style.display = 'block';
                messageDiv.style.background = '#d1fae5';
                messageDiv.style.border = '2px solid #22c55e';
                messageDiv.style.color = '#065f46';
                messageDiv.innerHTML = `
                    <div style="display: flex; align-items: center; gap: 0.75rem;">
                        <i class="fas fa-check-circle" style="font-size: 1.25rem;"></i>
                        <div>
                            <strong>Message envoy√© avec succ√®s !</strong>
                            <p style="margin: 0.5rem 0 0 0; font-size: 0.9rem;">Nous vous r√©pondrons dans les plus brefs d√©lais.</p>
                        </div>
                    </div>
                `;
                
                // R√©initialiser le formulaire
                form.reset();
                
                // Scroll vers le message
                messageDiv.scrollIntoView({ behavior: 'smooth', block: 'nearest' });
                
            } catch (error) {
                console.error('Erreur envoi message:', error);
                
                // Afficher le message d'erreur
                messageDiv.style.display = 'block';
                messageDiv.style.background = '#fee2e2';
                messageDiv.style.border = '2px solid #ef4444';
                messageDiv.style.color = '#991b1b';
                messageDiv.innerHTML = `
                    <div style="display: flex; align-items: center; gap: 0.75rem;">
                        <i class="fas fa-exclamation-circle" style="font-size: 1.25rem;"></i>
                        <div>
                            <strong>Erreur lors de l'envoi</strong>
                            <p style="margin: 0.5rem 0 0 0; font-size: 0.9rem;">Veuillez r√©essayer ou nous contacter directement par email ou t√©l√©phone.</p>
                        </div>
                    </div>
                `;
                
                messageDiv.scrollIntoView({ behavior: 'smooth', block: 'nearest' });
            } finally {
                // R√©activer le bouton
                submitButton.disabled = false;
                submitButton.innerHTML = originalButtonText;
            }
        }
        
        // Menu mobile
        function toggleMobileMenu() {
            const menu = document.getElementById('mobile-menu');
            const button = document.getElementById('mobile-menu-button');
            if (menu && button) {
                const isHidden = menu.classList.contains('hidden');
                menu.classList.toggle('hidden');
                button.setAttribute('aria-expanded', isHidden ? 'true' : 'false');
                const icon = button.querySelector('i');
                if (icon) {
                    if (isHidden) {
                        icon.classList.remove('fa-bars');
                        icon.classList.add('fa-times');
                    } else {
                        icon.classList.remove('fa-times');
                        icon.classList.add('fa-bars');
                    }
                }
            }
        }
        window.toggleMobileMenu = toggleMobileMenu;

        // Mettre √† jour les liens d'authentification
        document.addEventListener('DOMContentLoaded', () => {
            const token = localStorage.getItem('token');
            const user = JSON.parse(localStorage.getItem('user') || '{}');
            const authLink = document.getElementById('auth-link');
            const authLinkMobile = document.getElementById('auth-link-mobile');
            const authLinkTablet = document.getElementById('auth-link-tablet');
            const authText = document.getElementById('auth-text');
            
            if (token && (user.role === 'admin' || user.role === 'superviseur' || user.role === 'comptable')) {
                // Desktop
                if (authLink && authText) {
                    authLink.href = 'dashboard.html';
                    authLink.innerHTML = '<i class="fas fa-tachometer-alt mr-1.5 text-sm"></i><span>Dashboard</span>';
                    authText.textContent = 'Dashboard';
                }
                // Tablet
                if (authLinkTablet) {
                    authLinkTablet.href = 'dashboard.html';
                    authLinkTablet.title = 'Dashboard';
                }
                // Mobile
                if (authLinkMobile) {
                    authLinkMobile.href = 'dashboard.html';
                    authLinkMobile.innerHTML = '<i class="fas fa-tachometer-alt mr-2"></i><span>Dashboard</span>';
                }
            } else {
                // Si non connect√©, s'assurer que les liens pointent vers la page de connexion
                if (authLink) {
                    authLink.href = 'index.html';
                    if (authText) {
                        authText.textContent = 'Connexion';
                    }
                }
                if (authLinkTablet) {
                    authLinkTablet.href = 'index.html';
                    authLinkTablet.title = 'Connexion';
                }
                if (authLinkMobile) {
                    authLinkMobile.href = 'index.html';
                }
            }
        });
    </script>
</body>
</html>

